        <!-- FLEET TAB -->
        <section id="fleet" class="tab-content h-full p-6 min-h-0 overflow-hidden hidden flex flex-col">
            <div id="fleet-scroll-container" class="flex-1 min-h-0 overflow-y-auto pr-1" data-virtual-list="true">
            <div id="fleet-virtual-spacer-top" style="height: 0px;"></div>
            <div id="fleet-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" data-virtual-content="true">
                <!-- Initial render from server -->
                <% if (agents && agents.length > 0) { %>
                    <% agents.forEach(agent => { %>
                        <div class="bg-zinc-900 border border-zinc-800 p-5 rounded terminal-glow relative group flex flex-col justify-between"
                            data-agent-id="<%= agent.id %>">
                            <div>
                                <div class="flex justify-between items-start mb-4">
                                    <div>
                                        <h3 class="text-zinc-100 font-bold text-lg mb-1">
                                            <%= agent.id %>
                                        </h3>
                                        <div class="text-[10px] text-zinc-500 tracking-widest font-mono">ROLE: <span
                                                class="text-zinc-300">
                                                <%= agent.role.toUpperCase() %>
                                            </span></div>
                                    </div>
                                    <div
                                        class="text-[10px] flex items-center gap-2 <%= agent.status === 'online' ? 'text-green-500' : 'text-red-500' %>">
                                        <span
                                            class="w-2 h-2 rounded-full <%= agent.status === 'online' ? 'bg-green-500 animate-pulse' : 'bg-red-500' %>"></span>
                                        <%= agent.status.toUpperCase() %>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex justify-between text-[10px] border-b border-zinc-800 pb-2">
                                        <span class="text-zinc-600">LAST_HEARTBEAT</span>
                                        <span class="font-mono text-zinc-400">
                                            <%= new Date(agent.last_seen).toLocaleTimeString() %>
                                        </span>
                                    </div>
                                    <div class="bg-black/40 p-2 rounded border border-zinc-800/50">
                                        <div class="text-[9px] text-zinc-600 mb-1 uppercase tracking-wider flex justify-between">
                                            <span>Resources</span>
                                            <span class="text-zinc-800 text-[8px]">v<%= agent.specs.version || '??' %></span>
                                        </div>
                                        <div class="grid grid-cols-2 gap-2 text-[10px] font-mono">
                                            <div>CPU: <span class="text-zinc-300">
                                                    <%= (agent.specs && agent.specs.cpu_percent) || 0 %>
                                                </span></div>
                                            <div>RAM: <span class="text-zinc-300">
                                                    <%= (agent.specs && agent.specs.ram_percent) || 0 %>
                                                </span></div>
                                        </div>
                                    </div>
                                    <% if (agent.sessions && agent.sessions.length > 0) { %>
                                        <div class="mt-2">
                                            <div class="text-[9px] text-zinc-500 mb-1 uppercase tracking-wider">Sessions</div>
                                            <div class="flex flex-wrap gap-1">
                                                <% agent.sessions.forEach(s => { %>
                                                    <span
                                                        class="text-[9px] text-zinc-400 bg-zinc-950 border border-zinc-800 px-2 py-0.5 rounded truncate max-w-[100px]">
                                                        <%= s.id || s %>
                                                    </span>
                                                    <% }); %>
                                            </div>
                                        </div>
                                        <% } %>
                                </div>
                            </div>
                            <div class="mt-5 pt-4 border-t border-zinc-800 flex justify-end">
                                <button
                                    class="agent-actions text-[10px] font-bold text-black bg-zinc-200 hover:bg-white px-3 py-1.5 rounded uppercase tracking-wider transition-colors shadow-sm">
                                    Manage Agent
                                </button>
                            </div>
                        </div>
                        <% }); %>
                            <% } else { %>
                                <div class="col-span-3 text-center py-20 text-zinc-600">
                                    <div class="animate-pulse">SCANNING_NETWORK_FREQUENCIES...</div>
                                    <div class="text-xs mt-2">Waiting for agents to report in.</div>
                                </div>
                                <% } %>
            </div>
            <div id="fleet-virtual-spacer-bottom" style="height: 0px;"></div>
            </div>
        </section>
