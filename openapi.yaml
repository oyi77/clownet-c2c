openapi: 3.0.0
info:
  title: ClawNet C2C API
  version: 1.0.0
  description: API specifications for the ClawNet central relay server.
paths:
  /dashboard:
    get:
      summary: View the control dashboard
      responses:
        '200':
          description: HTML dashboard content
  /:
    get:
      summary: Health check
      responses:
        '200':
          description: Server status and version
components:
  schemas:
    Agent:
      type: object
      properties:
        id: {type: string}
        role: {type: string, enum: [master, worker]}
        status: {type: string, enum: [online, offline]}
        cron_snapshot: {type: object}
        last_heartbeat: {type: string, format: date-time}

webhooks:
  WebSocket:
    description: All agent communication happens over WebSocket
    events:
      connect:
        description: Initial handshake with auth token
      report:
        description: Agent sending its cron/status update
      message:
        description: Direct or broadcast message payload
